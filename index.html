<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com">
<meta name="copyright" content="智能社 - zhinengshe.com">
<title>智能社 - www.zhinengshe.com</title>
<style>
	*{
		margin:0;
		padding:0;
		list-style:none;
	}
	#box{
		width:966px;
		margin:0 auto;
		overflow:hidden;
	}
	ul{
		float:left;
		width:300px;
		border:1px solid red;
		margin:0 10px;
	}
	ul li{
		width:100%;
		background:#ccc;
		margin:10px 0;}
</style>
<script>
window.onload=function(){
	var oBox = document.getElementById('box');
	var aUl = oBox.children;
	function rnd(n,m) {
		return parseInt(Math.random()*(m-n)+n);
	}
	function createLi() {  //创建li
		var oLi=document.createElement('li');
			oLi.style.height=rnd(100,400)+'px';
			oLi.style.background='rgb('+rnd(0,255)+','+rnd(0,255)+','+rnd(0,255)+')';
			return oLi //返回添加颜色和高度的li
	}
	function createLi20() {
		for(var i=0;i<20;i++){ //循环创建20个li
			var oLi=createLi(); //调用创建好的li
			var arr=[];
			for(var j=0;j<aUl.length;j++){
				arr.push(aUl[j]);  //把所有的ul放到数组里面
			}
			arr.sort(function (n1,n2) { //根据ul的内容高排序
				return n1.scrollHeight-n2.scrollHeight;
			})
			arr[0].appendChild(oLi); //循环每次都插进去第0个
		}
	}
	createLi20();
	window.onscroll=window.onresize=function () {
		var oscrollT=document.documentElement.scrollTop||document.body.scrollTop;
		var oclienH=document.documentElement.clientHeight;
		if (oscrollT+oclienH>document.body.scrollHeight-300){
			createLi20();
		}
	}
};
</script>
</head>

<body>
	<div id="box">
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
</body>
</html>






